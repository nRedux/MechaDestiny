log("Script running!")

turnsTillActive = 2
waitingForDeath = {}

function update()
	--log("I'm here")
end

function teamsCreated()
	local team = _sG["enemyTeam"]
	local myPrio = thisActor.SpawnPriority
	local members = team.GetMembers()
	local cnt = 0

	for i = 1, #members do
		if members[i-1].SpawnPriority > myPrio then
			table.insert(waitingForDeath, members[i-1])
		end
	end
end

function onTurnChange( turn )
	log( "wtf" )
	local allDead = true
	for i = 1, #waitingForDeath do
		if waitingForDeath[i].IsDead() == false then
			allDead = false;
		end
	end

	if allDead then
		log("I'm active now")
		thisActor.Status = ActorStatus.Active
	else
		log("Not all dead")
	end
end

function awake()
	thisActor.Status = ActorStatus.Inactive
	log( thisActor.Status )
end